(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.simpleDatatables = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){(function (){
/* Version 3.0.7 */
"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t((function(t,e){t.exports=function(){var t=6e4,e=36e5,n="millisecond",r="second",i="minute",s="hour",a="day",u="week",o="month",c="quarter",f="year",h="date",d="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},D={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,o),s=n-i<0,a=e.clone().add(r+(s?-1:1),o);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:o,y:f,w:u,d:a,D:h,h:s,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",Y={};Y[v]=M;var p="$isDayjsObject",g=function(t){return t instanceof b||!(!t||!t[p])},y=function t(e,n,r){var i;if(!e)return v;if("string"==typeof e){var s=e.toLowerCase();Y[s]&&(i=s),n&&(Y[s]=n,i=s);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var u=e.name;Y[u]=e,i=u}return!r&&i&&(v=i),i||!r&&v},w=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},S=D;S.l=y,S.i=g,S.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var b=function(){function M(t){this.$L=y(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return S},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return S.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,c=!!S.u(e)||e,d=S.p(t),l=function(t,e){var r=S.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(a)},$=function(t,e){return S.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},M=this.$W,m=this.$M,D=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case f:return c?l(1,0):l(31,11);case o:return c?l(1,m):l(0,m+1);case u:var Y=this.$locale().weekStart||0,p=(M<Y?M+7:M)-Y;return l(c?D-p:D+(6-p),m);case a:case h:return $(v+"Hours",0);case s:return $(v+"Minutes",1);case i:return $(v+"Seconds",2);case r:return $(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var u,c=S.p(t),d="set"+(this.$u?"UTC":""),l=(u={},u[a]=d+"Date",u[h]=d+"Date",u[o]=d+"Month",u[f]=d+"FullYear",u[s]=d+"Hours",u[i]=d+"Minutes",u[r]=d+"Seconds",u[n]=d+"Milliseconds",u)[c],$=c===a?this.$D+(e-this.$W):e;if(c===o||c===f){var M=this.clone().set(h,1);M.$d[l]($),M.init(),this.$d=M.set(h,Math.min(this.$D,M.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[S.p(t)]()},m.add=function(n,c){var h,d=this;n=Number(n);var l=S.p(c),$=function(t){var e=w(d);return S.w(e.date(e.date()+Math.round(t*n)),d)};if(l===o)return this.set(o,this.$M+n);if(l===f)return this.set(f,this.$y+n);if(l===a)return $(1);if(l===u)return $(7);var M=(h={},h[i]=t,h[s]=e,h[r]=1e3,h)[l]||1,m=this.$d.getTime()+n*M;return S.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),s=this.$H,a=this.$m,u=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},l=function(t){return S.s(s%12||12,t,"0")},M=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace($,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return S.s(e.$y,4,"0");case"M":return u+1;case"MM":return S.s(u+1,2,"0");case"MMM":return h(n.monthsShort,u,c,3);case"MMMM":return h(c,u);case"D":return e.$D;case"DD":return S.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,o,2);case"ddd":return h(n.weekdaysShort,e.$W,o,3);case"dddd":return o[e.$W];case"H":return String(s);case"HH":return S.s(s,2,"0");case"h":return l(1);case"hh":return l(2);case"a":return M(s,a,!0);case"A":return M(s,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(e.$s);case"ss":return S.s(e.$s,2,"0");case"SSS":return S.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,h,d){var l,$=this,M=S.p(h),m=w(n),D=(m.utcOffset()-this.utcOffset())*t,v=this-m,Y=function(){return S.m($,m)};switch(M){case f:l=Y()/12;break;case o:l=Y();break;case c:l=Y()/3;break;case u:l=(v-D)/6048e5;break;case a:l=(v-D)/864e5;break;case s:l=v/e;break;case i:l=v/t;break;case r:l=v/1e3;break;default:l=v}return d?l:S.a(l)},m.daysInMonth=function(){return this.endOf(o).$D},m.$locale=function(){return Y[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return S.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),L=b.prototype;return w.prototype=L,[["$ms",n],["$s",r],["$m",i],["$H",s],["$W",a],["$M",o],["$y",f],["$D",h]].forEach((function(t){L[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,b,w),t.$i=!0),w},w.locale=y,w.isDayjs=g,w.unix=function(t){return w(1e3*t)},w.en=Y[v],w.Ls=Y,w.p={},w}()})),n=t((function(t,e){t.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,i=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},u=function(t){return(t=+t)+(t>68?1900:2e3)},o=function(t){return function(e){this[t]=+e}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],f=function(t){var e=a[t];return e&&(e.indexOf?e:e.s.concat(e.f))},h=function(t,e){var n,r=a.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},d={A:[s,function(t){this.afternoon=h(t,!1)}],a:[s,function(t){this.afternoon=h(t,!0)}],Q:[n,function(t){this.month=3*(t-1)+1}],S:[n,function(t){this.milliseconds=100*+t}],SS:[r,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[i,o("seconds")],ss:[i,o("seconds")],m:[i,o("minutes")],mm:[i,o("minutes")],H:[i,o("hours")],h:[i,o("hours")],HH:[i,o("hours")],hh:[i,o("hours")],D:[i,o("day")],DD:[r,o("day")],Do:[s,function(t){var e=a.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],w:[i,o("week")],ww:[r,o("week")],M:[i,o("month")],MM:[r,o("month")],MMM:[s,function(t){var e=f("months"),n=(f("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[s,function(t){var e=f("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,o("year")],YY:[r,function(t){this.year=u(t)}],YYYY:[/\d{4}/,o("year")],Z:c,ZZ:c};function l(n){var r,i;r=n,i=a&&a.formats;for(var s=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,r){var s=r&&r.toUpperCase();return n||i[r]||t[r]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),u=s.length,o=0;o<u;o+=1){var c=s[o],f=d[c],h=f&&f[0],l=f&&f[1];s[o]=l?{regex:h,parser:l}:c.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,r=0;n<u;n+=1){var i=s[n];if("string"==typeof i)r+=i.length;else{var a=i.regex,o=i.parser,c=t.slice(r),f=a.exec(c)[0];o.call(e,f),t=t.replace(f,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(u=t.parseTwoDigitYear);var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,s=t.args;this.$u=r;var u=s[1];if("string"==typeof u){var o=!0===s[2],c=!0===s[3],f=o||c,h=s[2];c&&(h=s[2]),a=this.$locale(),!o&&h&&(a=n.Ls[h]),this.$d=function(t,e,n,r){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var i=l(e)(t),s=i.year,a=i.month,u=i.day,o=i.hours,c=i.minutes,f=i.seconds,h=i.milliseconds,d=i.zone,$=i.week,M=new Date,m=u||(s||a?1:M.getDate()),D=s||M.getFullYear(),v=0;s&&!a||(v=a>0?a-1:M.getMonth());var Y,p=o||0,g=c||0,y=f||0,w=h||0;return d?new Date(Date.UTC(D,v,m,p,g,y,w+60*d.offset*1e3)):n?new Date(Date.UTC(D,v,m,p,g,y,w)):(Y=new Date(D,v,m,p,g,y,w),$&&(Y=r(Y).week($).toDate()),Y)}catch(t){return new Date("")}}(e,u,r,n),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),f&&e!=this.format(u)&&(this.$d=new Date("")),a={}}else if(u instanceof Array)for(var d=u.length,$=1;$<=d;$+=1){s[1]=u[$-1];var M=n.apply(this,s);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}$===d&&(this.$d=new Date(""))}else i.call(this,t)}}}()}));e.extend(n);exports.parseDate=(t,n)=>{let r=!1;if(n)switch(n){case"ISO_8601":r=t;break;case"RFC_2822":r=e(t,"ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");break;case"MYSQL":r=e(t,"YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");break;case"UNIX":r=e(t).unix();break;default:r=e(t,n).format("YYYYMMDD")}return r};


}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(require,module,exports){
/* Version 3.0.7 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=e=>"[object Object]"===Object.prototype.toString.call(e),t=(e,t)=>{const s=document.createElement(e);if(t&&"object"==typeof t)for(const e in t)"html"===e?s.innerHTML=t[e]:s.setAttribute(e,t[e]);return s},s=e=>{e instanceof NodeList?e.forEach(e=>s(e)):e.innerHTML=""},a=(e,s,a)=>t("li",{class:e,html:`<a href="#" data-page="${s}">${a}</a>`}),i=(e,t)=>{let s,a;1===t?(s=0,a=e.length):-1===t&&(s=e.length-1,a=-1);for(let i=!0;i;){i=!1;for(let n=s;n!=a;n+=t)if(e[n+t]&&e[n].value>e[n+t].value){const s=e[n],a=e[n+t],l=s;e[n]=a,e[n+t]=l,i=!0}}return e},n=e=>["#text","#comment"].includes(e.nodeName)?e.data:e.childNodes?e.childNodes.map(e=>n(e)).join(""):"",l=e=>{if(null==e)return"";if(e.hasOwnProperty("text")||e.hasOwnProperty("data")){const t=e;return t.text??l(t.data)}return e.hasOwnProperty("nodeName")?n(e):String(e)};class r{constructor(e,t){return this.dt=e,this.rows=t,this}build(e){const s=t("tr");let a=this.dt.headings;return a.length||(a=e.map(()=>"")),a.forEach((a,i)=>{const n=t("td");e[i]&&e[i].length||(e[i]=""),n.innerHTML=e[i],n.data=e[i],s.appendChild(n)}),s}render(e){return e}add(e){if(Array.isArray(e)){const t=this.dt;Array.isArray(e[0])?e.forEach(e=>{t.data.push(this.build(e))}):t.data.push(this.build(e)),t.data.length&&(t.hasRows=!0),this.update(),t.columns().rebuild()}}remove(e){const t=this.dt;Array.isArray(e)?(e.sort((e,t)=>t-e),e.forEach(e=>{t.data.splice(e,1)})):"all"==e?t.data=[]:t.data.splice(e,1),t.data.length||(t.hasRows=!1),this.update(),t.columns().rebuild()}update(){this.dt.data.forEach((e,t)=>{e.dataIndex=t})}}class o{constructor(e){return this.dt=e,this}swap(e){if(e.length&&2===e.length){const t=[];this.dt.headings.forEach((e,s)=>{t.push(s)});const s=e[0],a=e[1],i=t[a];t[a]=t[s],t[s]=i,this.order(t)}}order(e){let t,s,a,i,n,l,r;const o=[[],[],[],[]],h=this.dt;e.forEach((e,a)=>{n=h.headings[e],l="false"!==n.getAttribute("data-sortable"),t=n.cloneNode(!0),t.originalCellIndex=a,t.sortable=l,o[0].push(t),h.hiddenColumns.includes(e)||(s=n.cloneNode(!0),s.originalCellIndex=a,s.sortable=l,o[1].push(s))}),h.data.forEach((t,s)=>{a=t.cloneNode(!1),i=t.cloneNode(!1),a.dataIndex=i.dataIndex=s,null!==t.searchIndex&&void 0!==t.searchIndex&&(a.searchIndex=i.searchIndex=t.searchIndex),e.forEach(e=>{r=t.cells[e].cloneNode(!0),r.data=t.cells[e].data,a.appendChild(r),h.hiddenColumns.includes(e)||(r=t.cells[e].cloneNode(!0),r.data=t.cells[e].data,i.appendChild(r))}),o[2].push(a),o[3].push(i)}),h.headings=o[0],h.activeHeadings=o[1],h.data=o[2],h.activeRows=o[3],h.update()}hide(e){if(e.length){const t=this.dt;e.forEach(e=>{t.hiddenColumns.includes(e)||t.hiddenColumns.push(e)}),this.rebuild()}}show(e){if(e.length){let t;const s=this.dt;e.forEach(e=>{t=s.hiddenColumns.indexOf(e),t>-1&&s.hiddenColumns.splice(t,1)}),this.rebuild()}}visible(e){let t;const s=this.dt;return e=e||s.headings.map(e=>e.originalCellIndex),isNaN(e)?Array.isArray(e)&&(t=[],e.forEach(e=>{t.push(!s.hiddenColumns.includes(e))})):t=!s.hiddenColumns.includes(e),t}add(e){let t;const s=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[e.heading],data:e.data.map(e=>[e])}),void this.rebuild();this.dt.hiddenHeader?s.innerHTML="":e.heading.nodeName?s.appendChild(e.heading):s.innerHTML=e.heading,this.dt.headings.push(s),this.dt.data.forEach((s,a)=>{e.data[a]&&(t=document.createElement("td"),e.data[a].nodeName?t.appendChild(e.data[a]):t.innerHTML=e.data[a],t.data=t.innerHTML,e.render&&(t.innerHTML=e.render.call(this,t.data,t,s)),s.appendChild(t))}),e.type&&s.setAttribute("data-type",e.type),e.format&&s.setAttribute("data-format",e.format),e.hasOwnProperty("sortable")&&(s.sortable=e.sortable,s.setAttribute("data-sortable",!0===e.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()}remove(e){Array.isArray(e)?(e.sort((e,t)=>t-e),e.forEach(e=>this.remove(e))):(this.dt.headings.splice(e,1),this.dt.data.forEach(t=>{t.removeChild(t.cells[e])})),this.rebuild()}filter(e,t,s,a){const i=this.dt;i.filterState||(i.filterState={originalData:i.data}),i.filterState[e]=a;const n=Array.from(i.filterState.originalData).filter(e=>{let t=Array.from(e.cells),s=[];for(let e=0;e<t.length;e++){let a=t[e];const n=a.hasAttribute("data-content")?a.getAttribute("data-content"):a.innerText;let l=i.filterState[e];if(s[e]=l?"filtered":"unfiltered",l&&-1===l.indexOf(n))return!1}return s.forEach((e,t)=>{switch(e){case"filtered":i.headings[t].classList.add("filtered");break;default:i.headings[t].classList.remove("filtered")}}),!0});i.data=n,this.rebuild(),i.update(),s||i.emit("datatable.sort",e,t)}sort(e,t,s){const a=this.dt;if(a.hasHeadings&&(e<0||e>a.headings.length))return!1;a.sorting=!0,s||a.emit("datatable.sorting",e,t);let n=a.data;const l=[],r=[];let o=0,h=0;const d=a.headings[e],c=[];if("date"===d.getAttribute("data-type")){let e=!1;d.hasAttribute("data-format")&&(e=d.getAttribute("data-format")),c.push(Promise.resolve().then((function(){return require("./date-7d8c6b82.js")})).then(({parseDate:t})=>s=>t(s,e)))}Promise.all(c).then(c=>{const p=c[0];let u,g;Array.from(n).forEach(t=>{const s=t.cells[e],a=s.hasAttribute("data-content")?s.getAttribute("data-content"):s.innerText;let i;i=p?p(a):"string"==typeof a?a.replace(/(\$|,|\s|%)/g,""):a,parseFloat(i)==i?r[h++]={value:Number(i),row:t}:l[o++]={value:"string"==typeof a?a.toLowerCase():a,row:t}}),t||(t=d.classList.contains("asc")?"desc":"asc"),"desc"==t?(u=i(l,-1),g=i(r,-1),d.classList.remove("asc"),d.classList.add("desc")):(u=i(r,1),g=i(l,1),d.classList.remove("desc"),d.classList.add("asc")),a.lastTh&&d!=a.lastTh&&(a.lastTh.classList.remove("desc"),a.lastTh.classList.remove("asc")),a.lastTh=d,n=u.concat(g),a.data=[];const f=[];n.forEach((e,t)=>{a.data.push(e.row),null!==e.row.searchIndex&&void 0!==e.row.searchIndex&&f.push(t)}),a.searchData=f,this.rebuild(),a.update(),s||a.emit("datatable.sort",e,t)})}rebuild(){let e,t,s,a;const i=this.dt,n=[];i.activeRows=[],i.activeHeadings=[],i.headings.forEach((e,t)=>{e.originalCellIndex=t,e.sortable="false"!==e.getAttribute("data-sortable"),i.hiddenColumns.includes(t)||i.activeHeadings.push(e)}),i.data.forEach((l,r)=>{e=l.cloneNode(!1),t=l.cloneNode(!1),e.dataIndex=t.dataIndex=r,null!==l.searchIndex&&void 0!==l.searchIndex&&(e.searchIndex=t.searchIndex=l.searchIndex),Array.from(l.cells).forEach(n=>{s=n.cloneNode(!0),s.data=n.data,e.appendChild(s),i.hiddenColumns.includes(s.cellIndex)||(a=s.cloneNode(!0),a.data=s.data,t.appendChild(a))}),n.push(e),i.activeRows.push(t)}),i.data=n,i.update()}}const h=function(e){let s=!1,a=!1;if((e=e||this.options.data).headings){s=t("thead");const a=t("tr");e.headings.forEach(e=>{const s=t("th",{html:e});a.appendChild(s)}),s.appendChild(a)}e.data&&e.data.length&&(a=t("tbody"),e.data.forEach(s=>{if(e.headings&&e.headings.length!==s.length)throw new Error("The number of rows do not match the number of headings.");const i=t("tr");s.forEach(e=>{const s=t("td",{html:e});i.appendChild(s)}),a.appendChild(i)})),s&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),this.table.appendChild(s)),a&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),this.table.appendChild(a))},d={sortable:!0,searchable:!0,paging:!0,perPage:10,perPageSelect:[5,10,15,20,25,-1],nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"▴",descText:"▾",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}<div>{search}{columnFilter}</div>",bottom:"{info}{pager}"}};class c{constructor(e,t={}){if(this.initialized=!1,this.options={...d,...t,layout:{...d.layout,...t.layout},labels:{...d.labels,...t.labels}},"string"==typeof e&&(e=document.querySelector(e)),this.initialLayout=e.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===e.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),!t.perPage){const e=parseInt(localStorage.getItem("perPage"),10);isNaN(e)||(this.options.perPage=e)}if(e.tBodies.length&&!e.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=e,this.init()}static extend(e,t){"function"==typeof t?c.prototype[e]=t:c[e]=t}init(e){if(this.initialized||this.table.classList.contains("dataTable-table"))return!1;Object.assign(this.options,e||{}),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render();for(const[e,t]of Object.entries(this.options.filters||{})){let s=this.labels.indexOf(e);s<0||this.columns().filter(s,null,!0,t)}setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0,this.options.plugins&&Object.entries(this.options.plugins).forEach(([e,s])=>{this[e]&&"function"==typeof this[e]&&(this[e]=this[e](s,{createElement:t}),s.enabled&&this[e].init&&"function"==typeof this[e].init&&this[e].init())})},10)}render(e){if(e){switch(e){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}const s=this.options;let a="";if(s.data&&h.call(this),s.ajax){const e=s.ajax,t=new XMLHttpRequest,a=e=>{this.emit("datatable.ajax.progress",e,t)},i=s=>{if(4===t.readyState)if(this.emit("datatable.ajax.loaded",s,t),200===t.status){const a={};a.data=e.load?e.load.call(this,t):t.responseText,a.type="json",e.content&&e.content.type&&(a.type=e.content.type,Object.assign(a,e.content)),this.import(a),this.setColumns(!0),this.emit("datatable.ajax.success",s,t)}else this.emit("datatable.ajax.error",s,t)},n=e=>{this.emit("datatable.ajax.error",e,t)},l=e=>{this.emit("datatable.ajax.abort",e,t)};t.addEventListener("progress",a,!1),t.addEventListener("load",i,!1),t.addEventListener("error",n,!1),t.addEventListener("abort",l,!1),this.emit("datatable.ajax.loading",t),t.open("GET","string"==typeof e?s.ajax:s.ajax.url),t.send()}if(this.body=this.table.tBodies[0],this.head=this.table.tHead,this.foot=this.table.tFoot,this.body||(this.body=t("tbody"),this.table.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){const e=t("thead"),a=t("tr");this.hasRows&&(Array.from(this.body.rows[0].cells).forEach(()=>{a.appendChild(t("th"))}),e.appendChild(a)),this.head=e,this.table.insertBefore(this.head,this.body),this.hiddenHeader=!s.ajax}if(this.headings=[],this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),s.header||this.head&&this.table.removeChild(this.table.tHead),s.footer?this.head&&!this.foot&&(this.foot=t("tfoot",{html:this.head.innerHTML}),this.table.appendChild(this.foot)):this.foot&&this.table.removeChild(this.table.tFoot),this.wrapper=t("div",{class:"dataTable-wrapper dataTable-loading"}),a+="<div class='dataTable-top'>",a+=s.layout.top,a+="</div>",s.scrollY.length?a+=`<div class='dataTable-container' style='height: ${s.scrollY}; overflow-Y: auto;'></div>`:a+="<div class='dataTable-container'></div>",a+="<div class='dataTable-bottom'>",a+=s.layout.bottom,a+="</div>",a=a.replace("{info}",s.paging?"<div class='dataTable-info'></div>":""),s.paging&&s.perPageSelect){let e="<div class='dataTable-dropdown'><label>";e+=s.labels.perPage,e+="</label></div>";const i=t("select",{class:"dataTable-selector"});s.perPageSelect.forEach(e=>{const t=e===s.perPage;let a=new Option(e,e,t,t);-1===e&&(a=new Option("ALL",e,t,t)),i.add(a)}),e=e.replace("{select}",i.outerHTML),a=a.replace("{select}",e)}else a=a.replace("{select}","");if(s.searchable){const e=`<span class='dataTable-search'><input class='dataTable-input' placeholder='${s.labels.placeholder}' type='text'></span>`;a=a.replace("{search}",e)}else a=a.replace("{search}","");a=a.replace("{columnFilter}",'\n            <span class="dataTable-columnFilter">\n                <button type="button" title="column filter" style="font-weight:bold;">⚙</button>\n            </span>'),this.hasHeadings&&this.render("header"),this.table.classList.add("dataTable-table");const i=t("div",{class:"dataTable-pagination"}),n=t("ul");i.appendChild(n),a=a.replace(/\{pager\}/g,i.outerHTML),this.wrapper.innerHTML=a,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=this.table.getBoundingClientRect(),this.data=Array.from(this.body.rows),this.activeRows=this.data.slice(),this.activeHeadings=this.headings.slice(),this.update(),s.ajax||this.setColumns(),this.fixHeight(),this.fixColumns(),s.header||this.wrapper.classList.add("no-header"),s.footer||this.wrapper.classList.add("no-footer"),s.sortable&&this.wrapper.classList.add("sortable"),s.searchable&&this.wrapper.classList.add("searchable"),s.fixedHeight&&this.wrapper.classList.add("fixed-height"),s.fixedColumns&&this.wrapper.classList.add("fixed-columns"),this.bindEvents()}renderPage(){if(this.hasHeadings&&(s(this.header),this.activeHeadings.forEach(e=>this.header.appendChild(e))),this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);const e=this.currentPage-1,t=document.createDocumentFragment();this.pages[e].forEach(e=>t.appendChild(this.rows().render(e))),this.clear(t),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.setMessage(this.options.labels.noRows);let e,t=0,a=0,i=0;if(this.totalPages&&(t=this.currentPage-1,a=t*this.options.perPage,i=a+this.pages[t].length,a+=1,e=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){const t=this.options.labels.info.replace("{start}",a).replace("{end}",i).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",e);this.label.innerHTML=e?t:""}1==this.currentPage&&this.fixHeight()}renderPager(){if(s(this.pagers),this.totalPages>1){const e="pager",s=document.createDocumentFragment(),i=this.onFirstPage?1:this.currentPage-1,n=this.onLastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&s.appendChild(a(e,1,this.options.firstText)),this.options.nextPrev&&s.appendChild(a(e,i,this.options.prevText));let l=this.links;this.options.truncatePager&&(l=((e,s,a,i,n)=>{let l;const r=2*(i=i||2);let o=s-i,h=s+i;const d=[],c=[];s<4-i+r?h=3+r:s>a-(3-i+r)&&(o=a-(2+r));for(let t=1;t<=a;t++)if(1==t||t==a||t>=o&&t<=h){const s=e[t-1];s.classList.remove("active"),d.push(s)}return d.forEach(s=>{const a=s.children[0].getAttribute("data-page");if(l){const s=l.children[0].getAttribute("data-page");if(a-s==2)c.push(e[s]);else if(a-s!=1){const e=t("li",{class:"ellipsis",html:`<a href="#">${n}</a>`});c.push(e)}}c.push(s),l=s}),c})(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),this.links[this.currentPage-1].classList.add("active"),l.forEach(e=>{e.classList.remove("active"),s.appendChild(e)}),this.links[this.currentPage-1].classList.add("active"),this.options.nextPrev&&s.appendChild(a(e,n,this.options.nextText)),this.options.firstLast&&s.appendChild(a(e,this.totalPages,this.options.lastText)),this.pagers.forEach(e=>{e.appendChild(s.cloneNode(!0))})}}renderHeader(){this.labels=[],this.headings&&this.headings.length&&this.headings.forEach((e,s)=>{if(this.labels[s]=e.textContent,e.firstElementChild&&e.firstElementChild.classList.contains("dataTable-sorter")&&(e.innerHTML=e.firstElementChild.innerHTML),e.sortable="false"!==e.getAttribute("data-sortable"),e.originalCellIndex=s,this.options.sortable&&e.sortable){const s=t("a",{href:"#",class:"dataTable-sorter",html:e.innerHTML});e.innerHTML="",e.setAttribute("data-sortable",""),e.appendChild(s)}}),this.fixColumns()}bindEvents(){const t=this.options;if(this.wrapper.addEventListener("contextmenu",e=>{if(e.target.classList.contains("dataTable-sorter")){if(e.preventDefault(),!this.columnValueFilter){const e='\n                    <dialog id="columnValueFilterDialog">\n                        <div style="display:flex;">\n                            <div>\n                                <label>Values</label>\n                                <ol class="values"></ol>\n                            </div>\n                        </div>\n                        <div>\n                            <button type="button" class="reset">Reset</button>\n                            <button type="button" class="close">OK</button>\n                        </div>\n                    </dialog>';this.wrapper.insertAdjacentHTML("beforeend",e),this.columnValueFilter=this.wrapper.querySelector("#columnValueFilterDialog"),this.columnValueFilter.addEventListener("click",e=>{let t=e.target;if(t.classList.contains("close")){let e=this.columnValueFilter.querySelector("ol"),t=parseInt(e.getAttribute("columnIndex"));e.getAttribute("label");let s=Array.from(e.querySelectorAll("input[type=checkbox]:checked:not(.select-all)")).map(e=>e.getAttribute("value"));return this.columns().filter(t,null,!0,s),void this.columnValueFilter.close()}if(t.classList.contains("reset")){let e=this.columnValueFilter.querySelector("ol"),t=parseInt(e.getAttribute("columnIndex"));return this.columns().filter(t,null,!0,null),void this.columnValueFilter.close()}if(t.classList.contains("select-all")){let e=t.checked;t.closest("ol").querySelectorAll("input[type=checkbox]:not(.select-all)").forEach(t=>t.checked=e)}else;})}let t=e.target.closest("th"),s=t.closest("tr"),a=Array.from(s.children).indexOf(t),i=this.labels[a];return this.columnValueFilter.querySelector(".values").setAttribute("columnIndex",a),this.columnValueFilter.querySelector(".values").setAttribute("label",i),function(e){let t=parseInt(e.columnValueFilter.querySelector(".values").getAttribute("columnIndex"));e.columnValueFilter.querySelector(".values").getAttribute("label");let s=(e.filterState||{}).originalData||e.data||[],a=Array.from(new Set([...s.map(e=>e.children[t].innerText)])).sort(),i=Array.from(new Set([...e.data.map(e=>e.children[t].innerText)])).sort(),n=(e.filterState||{})[t],l='<li style="list-style-type:none;"><input type="checkbox" class="select-all" /> Select All</li>';a.forEach((e,t)=>{let s=!n||n.indexOf(e)>-1,a=i.indexOf(e)>-1;l+=`\n                            <li index="${t}" value="${t+1}">\n                                <input type="checkbox" value="${e}" ${s?"checked":""} /> ${a?`<b>${e}</b>`:e}\n                            </li>`}),e.columnValueFilter.querySelector(".values").innerHTML=l}(this),void this.columnValueFilter.showModal()}}),t.perPageSelect){const e=this.wrapper.querySelector(".dataTable-selector");e&&e.addEventListener("change",()=>{t.perPage=parseInt(e.value,10),localStorage.setItem("perPage",t.perPage),this.update(),this.fixHeight(),this.emit("datatable.perpage",t.perPage)},!1)}t.searchable&&(this.input=this.wrapper.querySelector(".dataTable-input"),this.input&&this.input.addEventListener("keyup",()=>this.search(this.input.value),!1)),this.wrapper.querySelector(".dataTable-columnFilter button").addEventListener("click",t=>{if(!this.columnFilter){const t='\n                    <dialog id="columnFilterDialog">\n                        <div style="display:flex;">\n                            <div>\n                                <label>Columns</label>\n                                <ol class="columns"></ol>\n                            </div>\n                            <div>\n                                <label>Export</label>\n                                <ul>\n                                    <li>\n                                        <a href="javascript:void(0);" class="exportCSV">CSV</a>\n                                    </li>\n                                    <li>\n                                        <a href="javascript:void(0);" class="exportJSON">JSON</a>\n                                    </li>\n                                    <li>\n                                        <a href="javascript:void(0);" class="exportSQL">SQL</a>\n                                    </li>\n                                    <li>\n                                        <a href="javascript:void(0);" class="exportTXT">TXT</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div>\n                            <button type="button" class="close">OK</button>\n                        </div>\n                    </dialog>';this.wrapper.insertAdjacentHTML("beforeend",t),this.columnFilter=this.wrapper.querySelector("#columnFilterDialog"),this.columnFilter.addEventListener("click",t=>{let s=t.target;s.classList.contains("close")?this.columnFilter.close():s.classList.contains("exportCSV")?function(t,s){if(!t.hasHeadings&&!t.hasRows)return!1;if(!e(s))return!1;const a={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",...s},i=e=>!a.skipColumn.includes(e)&&-1===t.hiddenColumns.indexOf(e),n=t.headings.filter((e,t)=>i(t)).map(e=>e.text??e.data??e.innerText);let r;if(a.selection)if(Array.isArray(a.selection)){r=[];for(let e=0;e<a.selection.length;e++)r=r.concat(t.pages[a.selection[e]-1].map(e=>e.row))}else r=t.pages[a.selection-1].map(e=>e.row);else r=t.data;let o=[n];if(o=o.concat(r.map(e=>[...e.children].filter((e,t)=>i(t)).map(e=>l(e)))),o.length){let e="";if(o.forEach(t=>{t.forEach(t=>{"string"==typeof t&&(t=(t=(t=(t=(t=t.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(t=`"${t}"`),e+=t+a.columnDelimiter}),e=e.trim().substring(0,e.length-1),e+=a.lineDelimiter}),e=e.trim().substring(0,e.length-1),a.download){const t=document.createElement("a");t.href=encodeURI("data:text/csv;charset=utf-8,"+e),t.download=(a.filename||"datatable_export")+".csv",document.body.appendChild(t),t.click(),document.body.removeChild(t)}return e}}(this,{filename:this.caption||""}):s.classList.contains("exportJSON")?function(t,s){if(!t.hasHeadings&&!t.hasRows)return!1;if(!e(s))return!1;const a={download:!0,skipColumn:[],replacer:null,space:4,...s},i=e=>!a.skipColumn.includes(e)&&-1===t.hiddenColumns.indexOf(e);let n;if(a.selection)if(Array.isArray(a.selection)){n=[];for(let e=0;e<a.selection.length;e++)n=n.concat(t.pages[a.selection[e]-1].map(e=>e.row))}else n=t.pages[a.selection-1].map(e=>e.row);else n=t.data;const r=n.map(e=>[...e.children].filter((e,t)=>i(t)).map(e=>l(e))),o=t.headings.filter((e,t)=>i(t)).map(e=>e.text??e.data??e.innerText);if(r.length){const e=[];r.forEach((t,s)=>{e[s]=e[s]||{},t.forEach((t,a)=>{e[s][o[a]]=t})});const t=JSON.stringify(e,a.replacer,a.space);if(a.download){const e=new Blob([t],{type:"data:application/json;charset=utf-8"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=(a.filename||"datatable_export")+".json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}return t}}(this,{filename:this.caption||""}):s.classList.contains("exportSQL")?function(t,s){if(!t.hasHeadings&&!t.hasRows)return!1;if(!e(s))return!1;const a={download:!0,skipColumn:[],tableName:"myTable",...s},i=e=>!a.skipColumn.includes(e)&&-1===t.hiddenColumns.indexOf(e);let n=[];if(a.selection)if(Array.isArray(a.selection))for(let e=0;e<a.selection.length;e++)n=n.concat(t.pages[a.selection[e]-1].map(e=>e.row));else n=t.pages[a.selection-1].map(e=>e.row);else n=t.data;const r=n.map(e=>[...e.children].filter((e,t)=>i(t)).map(e=>l(e))),o=t.headings.filter((e,t)=>i(t)).map(e=>e.text??e.data??e.innerText);if(r.length){let e=`INSERT INTO \`${a.tableName}\` (`;if(o.forEach(t=>{e+=`\`${t}\`,`}),e=e.trim().substring(0,e.length-1),e+=") VALUES ",r.forEach(t=>{e+="(",t.forEach(t=>{e+="string"==typeof t?`"${t}",`:t+","}),e=e.trim().substring(0,e.length-1),e+="),"}),e=e.trim().substring(0,e.length-1),e+=";",a.download&&(e="data:application/sql;charset=utf-8,"+e),a.download){const t=document.createElement("a");t.href=encodeURI(e),t.download=(a.filename||"datatable_export")+".sql",document.body.appendChild(t),t.click(),document.body.removeChild(t)}return e}}(this,{filename:this.caption||""}):s.classList.contains("exportTXT")&&function(t,s){if(!t.hasHeadings&&!t.hasRows)return!1;if(!e(s))return!1;const a={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",...s},i=e=>!a.skipColumn.includes(e)&&-1===t.hiddenColumns.indexOf(e),n=t.headings.filter((e,t)=>i(t)).map(e=>e.text??e.data??e.innerText);let r;if(a.selection)if(Array.isArray(a.selection)){r=[];for(let e=0;e<a.selection.length;e++)r=r.concat(t.pages[a.selection[e]-1].map(e=>e.row))}else r=t.pages[a.selection-1].map(e=>e.row);else r=t.data;let o=[n];if(o=o.concat(r.map(e=>[...e.children].filter((e,t)=>i(t)).map(e=>l(e)))),o.length){let e="";if(o.forEach(t=>{t.forEach(t=>{"string"==typeof t&&(t=(t=(t=(t=(t=t.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(t=`"${t}"`),e+=t+a.columnDelimiter}),e=e.trim().substring(0,e.length-1),e+=a.lineDelimiter}),e=e.trim().substring(0,e.length-1),a.download&&(e="data:text/csv;charset=utf-8,"+e),a.download){const t=document.createElement("a");t.href=encodeURI(e),t.download=(a.filename||"datatable_export")+".txt",document.body.appendChild(t),t.click(),document.body.removeChild(t)}return e}}(this,{filename:this.caption||""})}),this.columnFilter.addEventListener("change",e=>{let t=e.target,s=t.closest("li"),a=parseInt(s.getAttribute("index"));t.checked?this.columns().show([a]):this.columns().hide([a])})}let s="",a=this.columns().visible();this.labels.forEach((e,t)=>{let i=a[t];s+=`\n                    <li index="${t}">\n                        <input type="checkbox" ${i?"checked":""} /> ${e}\n                    </li>`}),this.columnFilter.querySelector(".columns").innerHTML=s,this.columnFilter.showModal()}),this.wrapper.addEventListener("click",e=>{const s=e.target;"a"===s.nodeName.toLowerCase()&&(s.hasAttribute("data-page")?(this.page(s.getAttribute("data-page")),e.preventDefault()):t.sortable&&s.classList.contains("dataTable-sorter")&&"false"!=s.parentNode.getAttribute("data-sortable")&&(this.columns().sort(this.headings.indexOf(s.parentNode)),e.preventDefault()))},!1),window.addEventListener("resize",()=>{this.rect=this.container.getBoundingClientRect(),this.fixColumns()})}setColumns(e){e||this.data.forEach(e=>{Array.from(e.cells).forEach(e=>{e.data=e.innerHTML})}),this.options.columns&&this.headings.length&&this.options.columns.forEach(e=>{Array.isArray(e.select)||(e.select=[e.select]),e.hasOwnProperty("render")&&"function"==typeof e.render&&(this.selectedColumns=this.selectedColumns.concat(e.select),this.columnRenderers.push({columns:e.select,renderer:e.render})),e.select.forEach(t=>{const s=this.headings[t];e.type&&s.setAttribute("data-type",e.type),e.format&&s.setAttribute("data-format",e.format),e.hasOwnProperty("sortable")&&s.setAttribute("data-sortable",e.sortable),e.hasOwnProperty("hidden")&&!1!==e.hidden&&this.columns().hide([t]),e.hasOwnProperty("sort")&&1===e.select.length&&this.columns().sort(e.select[0],e.sort,!0)})}),this.hasRows&&(this.data.forEach((e,t)=>{e.dataIndex=t,Array.from(e.cells).forEach(e=>{e.data=e.innerHTML})}),this.selectedColumns.length&&this.data.forEach(e=>{Array.from(e.cells).forEach((t,s)=>{this.selectedColumns.includes(s)&&this.columnRenderers.forEach(a=>{a.columns.includes(s)&&(t.innerHTML=a.renderer.call(this,t.data,t,e))})})}),this.columns().rebuild()),this.render("header")}destroy(){this.table.innerHTML=this.initialLayout,this.table.classList.remove("dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1}update(){this.wrapper.classList.remove("dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];let e=this.pages.length;for(;e--;){const t=e+1;this.links[e]=a(0===e?"active":"",t,t)}this.sorting=!1,this.render("pager"),this.rows().update(),this.options.footer&&this.options.footer.auto&&(this.table.querySelector("tfoot").innerHTML=function(e){Number.prototype.countDecimals=function(){let e=Math.abs(this);if(Math.floor(e.valueOf())===e.valueOf())return 0;var t=e.toString();return-1!==t.indexOf(".")&&-1!==t.indexOf("-")?t.split("-")[1]||0:-1!==t.indexOf(".")?t.split(".")[1].length||0:t.split("-")[1]||0};let s=e,a=s.searchData||[],i=[],n=[];s.activeHeadings.forEach((e,l)=>{let r=0,o=[],h=e.getAttribute("data-type"),d="number",c=0;s.activeRows.forEach((e,t)=>{if(a.length>0&&-1===a.indexOf(t))return;let s=e.cells[l],i=(s.getAttribute("data-value")||s.textContent).trim().toLowerCase(),n=parseFloat(i);if(isNaN(n))n=0,d="string";else{let e=n.countDecimals();e>c&&(c=e)}r=parseFloat((r+n).toFixed(c)),o.push(i)});let p=h||d,u=t("th",{title:"number"===p?"summation":"unique values"});u.innerText="integer"===p?r:"number"===p?r.toFixed(c):[...new Set(o)].length,u.style.textAlign=e.style.textAlign,n.push(u),i.push(d)}),s.columnTypes=i;let l=t("tr");n.forEach(e=>{l.insertAdjacentElement("beforeend",e)});let r=t("tfoot");return r.innerHTML=l.outerHTML,r}(this).innerHTML),this.emit("datatable.update")}paginate(){const e=this.options.perPage;let t=this.activeRows;return this.searching&&(t=[],this.searchData.forEach(e=>t.push(this.activeRows[e]))),this.options.paging&&e>-1?this.pages=t.map((s,a)=>a%e==0?t.slice(a,a+e):null).filter(e=>e):this.pages=[t],this.totalPages=this.lastPage=this.pages.length,this.totalPages}fixColumns(){if((this.options.scrollY.length||this.options.fixedColumns)&&this.activeHeadings&&this.activeHeadings.length){let e,s=!1;if(this.columnWidths=[],this.table.tHead){if(this.options.scrollY.length&&(s=t("thead"),s.appendChild(t("tr")),s.style.height="0px",this.headerTable&&(this.table.tHead=this.headerTable.tHead)),this.activeHeadings.forEach(e=>{e.style.width=""}),this.activeHeadings.forEach((e,a)=>{const i=e.offsetWidth,n=i/this.rect.width*100;if(e.style.width=n+"%",this.columnWidths[a]=i,this.options.scrollY.length){const e=t("th");s.firstElementChild.appendChild(e),e.style.width=n+"%",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.border="0"}}),this.options.scrollY.length){const e=this.table.parentElement;if(!this.headerTable){this.headerTable=t("table",{class:"dataTable-table"});const s=t("div",{class:"dataTable-headercontainer"});s.appendChild(this.headerTable),e.parentElement.insertBefore(s,e)}const a=this.table.tHead;this.table.replaceChild(s,a),this.headerTable.tHead=a,this.headerTable.parentElement.style.paddingRight=this.headerTable.clientWidth-this.table.clientWidth+parseInt(this.headerTable.parentElement.style.paddingRight||"0",10)+"px",e.scrollHeight>e.clientHeight&&(e.style.overflowY="scroll")}}else{e=[],s=t("thead");const a=t("tr");Array.from(this.table.tBodies[0].rows[0].cells).forEach(()=>{const s=t("th");a.appendChild(s),e.push(s)}),s.appendChild(a),this.table.insertBefore(s,this.body);const i=[];e.forEach((e,t)=>{const s=e.offsetWidth,a=s/this.rect.width*100;i.push(a),this.columnWidths[t]=s}),this.data.forEach(e=>{Array.from(e.cells).forEach((e,t)=>{this.columns(e.cellIndex).visible()&&(e.style.width=i[t]+"%")})}),this.table.removeChild(s)}}}fixHeight(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=this.rect.height+"px")}search(e){return!!this.hasRows&&(e=e.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],e.length?(this.clear(),this.data.forEach((t,s)=>{const a=this.searchData.includes(t);e.split("|").reduce((e,s)=>{let a=!1,i=null,n=null;for(let e=0;e<t.cells.length;e++)if(i=t.cells[e],n=i.hasAttribute("data-content")?i.getAttribute("data-content"):i.textContent,n.toLowerCase().includes(s)&&this.columns(i.cellIndex).visible()){a=!0;break}return e&&a},!0)&&!a?(t.searchIndex=s,this.searchData.push(s)):t.searchIndex=null}),this.wrapper.classList.add("search-results"),this.searchData.length?this.update():(this.wrapper.classList.remove("search-results"),this.table.querySelector("tfoot").innerHTML="",this.setMessage(this.options.labels.noRows)),void this.emit("datatable.search",e,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",e,this.searchData),this.wrapper.classList.remove("search-results"),!1))}page(e){return e!=this.currentPage&&(isNaN(e)||(this.currentPage=parseInt(e,10)),!(e>this.pages.length||e<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",e)))}sortColumn(e,t){this.columns().sort(e,t)}insert(s){let a=[];if(e(s)){if(s.headings&&!this.hasHeadings&&!this.hasRows){const e=t("tr");s.headings.forEach(s=>{const a=t("th",{html:s});e.appendChild(a)}),this.head.appendChild(e),this.header=e,this.headings=[].slice.call(e.cells),this.hasHeadings=!0,this.options.sortable=this.initialSortable,this.render("header"),this.activeHeadings=this.headings.slice()}s.data&&Array.isArray(s.data)&&(a=s.data)}else Array.isArray(s)&&s.forEach(e=>{const t=[];Object.entries(e).forEach(([e,s])=>{const a=this.labels.indexOf(e);a>-1&&(t[a]=s)}),a.push(t)});a.length&&(this.rows().add(a),this.hasRows=!0),this.update(),this.setColumns(),this.fixColumns()}refresh(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")}clear(e){this.body&&s(this.body);let t=this.body;if(this.body||(t=this.table),e){if("string"==typeof e){document.createDocumentFragment().innerHTML=e}t.appendChild(e)}}export(t){if(!this.hasHeadings&&!this.hasRows)return!1;const s=this.activeHeadings;let a=[];const i=[];let n,l,r,o;if(!e(t))return!1;const h={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4,...t};if(h.type){if("txt"!==h.type&&"csv"!==h.type||(a[0]=this.header),h.selection)if(isNaN(h.selection)){if(Array.isArray(h.selection))for(n=0;n<h.selection.length;n++)a=a.concat(this.pages[h.selection[n]-1])}else a=a.concat(this.pages[h.selection-1]);else a=a.concat(this.activeRows);if(a.length){if("txt"===h.type||"csv"===h.type){for(r="",n=0;n<a.length;n++){for(l=0;l<a[n].cells.length;l++)if(!h.skipColumn.includes(s[l].originalCellIndex)&&this.columns(s[l].originalCellIndex).visible()){let e=a[n].cells[l].textContent;e=e.trim(),e=e.replace(/\s{2,}/g," "),e=e.replace(/\n/g,"  "),e=e.replace(/"/g,'""'),e=e.replace(/#/g,"%23"),e.includes(",")&&(e=`"${e}"`),r+=e+h.columnDelimiter}r=r.trim().substring(0,r.length-1),r+=h.lineDelimiter}r=r.trim().substring(0,r.length-1),h.download&&(r="data:text/csv;charset=utf-8,"+r)}else if("sql"===h.type){for(r=`INSERT INTO \`${h.tableName}\` (`,n=0;n<s.length;n++)!h.skipColumn.includes(s[n].originalCellIndex)&&this.columns(s[n].originalCellIndex).visible()&&(r+=`\`${s[n].textContent}\`,`);for(r=r.trim().substring(0,r.length-1),r+=") VALUES ",n=0;n<a.length;n++){for(r+="(",l=0;l<a[n].cells.length;l++)!h.skipColumn.includes(s[l].originalCellIndex)&&this.columns(s[l].originalCellIndex).visible()&&(r+=`"${a[n].cells[l].textContent}",`);r=r.trim().substring(0,r.length-1),r+="),"}r=r.trim().substring(0,r.length-1),r+=";",h.download&&(r="data:application/sql;charset=utf-8,"+r)}else if("json"===h.type){for(l=0;l<a.length;l++)for(i[l]=i[l]||{},n=0;n<s.length;n++)!h.skipColumn.includes(s[n].originalCellIndex)&&this.columns(s[n].originalCellIndex).visible()&&(i[l][s[n].textContent]=a[l].cells[n].textContent);r=JSON.stringify(i,h.replacer,h.space),h.download&&(r="data:application/json;charset=utf-8,"+r)}return h.download&&(h.filename=h.filename||"datatable_export",h.filename+="."+h.type,r=encodeURI(r),o=document.createElement("a"),o.href=r,o.download=h.filename,document.body.appendChild(o),o.click(),document.body.removeChild(o)),r}}return!1}import(t){let s=!1;if(!e(t))return!1;const a={lineDelimiter:"\n",columnDelimiter:",",...t};if(a.data.length||e(a.data)){if("csv"===a.type){s={data:[]};const e=a.data.split(a.lineDelimiter);e.length&&(a.headings&&(s.headings=e[0].split(a.columnDelimiter),e.shift()),e.forEach((e,t)=>{s.data[t]=[];const i=e.split(a.columnDelimiter);i.length&&i.forEach(e=>{s.data[t].push(e)})}))}else if("json"===a.type){const t=(t=>{let s=!1;try{s=JSON.parse(t)}catch(e){return!1}return!(null===s||!Array.isArray(s)&&!e(s))&&s})(a.data);t&&(s={headings:[],data:[]},t.forEach((e,t)=>{s.data[t]=[],Object.entries(e).forEach(([e,a])=>{s.headings.includes(e)||s.headings.push(e),s.data[t].push(a)})}))}e(a.data)&&(s=a.data),s&&this.insert(s)}return!1}print(){const e=this.activeHeadings,s=this.activeRows,a=t("table"),i=t("thead"),n=t("tbody"),l=t("tr");e.forEach(e=>{l.appendChild(t("th",{html:e.textContent}))}),i.appendChild(l),s.forEach(e=>{const s=t("tr");Array.from(e.cells).forEach(e=>{s.appendChild(t("td",{html:e.textContent}))}),n.appendChild(s)}),a.appendChild(i),a.appendChild(n);const r=window.open();r.document.body.appendChild(a),r.print()}setMessage(e){let s=1;this.hasRows&&this.data.length>0?s=this.data[0].cells.length:this.activeHeadings.length&&(s=this.activeHeadings.length),this.wrapper.classList.add("dataTable-empty"),this.label&&(this.label.innerHTML=""),this.totalPages=0,this.render("pager"),this.clear(t("tr",{html:`<td class="dataTables-empty" colspan="${s}">${e}</td>`}))}columns(e){return new o(this,e)}rows(e){return new r(this,e)}on(e,t){this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){this.events=this.events||{},e in this.events!=!1&&this.events[e].splice(this.events[e].indexOf(t),1)}emit(e){if(this.events=this.events||{},e in this.events!=!1)for(let t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}}exports.DataTable=c;


},{"./date-7d8c6b82.js":1}]},{},[2])(2)
});
